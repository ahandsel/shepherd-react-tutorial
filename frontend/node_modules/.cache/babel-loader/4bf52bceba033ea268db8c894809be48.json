{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KintoneRestAPIError = void 0;\n\nvar KintoneRestAPIError =\n/** @class */\nfunction (_super) {\n  __extends(KintoneRestAPIError, _super);\n\n  function KintoneRestAPIError(error) {\n    var _this = this;\n\n    var _a = KintoneRestAPIError.buildErrorResponseDateWithIndex(error),\n        data = _a.data,\n        bulkRequestIndex = _a.bulkRequestIndex;\n\n    _this = _super.call(this, data.message) || this;\n    _this.name = \"KintoneRestAPIError\";\n    _this.id = data.id;\n    _this.code = data.code;\n    _this.errors = data.errors;\n    _this.status = error.status;\n    _this.bulkRequestIndex = bulkRequestIndex;\n    _this.headers = error.headers;\n    _this.message = \"[\".concat(error.status, \"] [\").concat(_this.code, \"] \").concat(_this.message, \" (\").concat(_this.id, \")\"); // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_this, KintoneRestAPIError);\n    } // https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    // Set the prototype explicitly.\n\n\n    Object.setPrototypeOf(_this, KintoneRestAPIError.prototype);\n    return _this;\n  }\n\n  KintoneRestAPIError.findErrorResponseDataWithIndex = function (results) {\n    for (var i = 0; i < results.length; i++) {\n      if (Object.keys(results[i]).length !== 0) {\n        var data = results[i];\n        return {\n          data: data,\n          bulkRequestIndex: i\n        };\n      }\n    }\n\n    throw Error(\"Missing response data in `results`. This error is likely caused by a bug in Kintone REST API Client. Please file an issue.\");\n  };\n\n  KintoneRestAPIError.buildErrorResponseDateWithIndex = function (error) {\n    if (\"results\" in error.data) {\n      return KintoneRestAPIError.findErrorResponseDataWithIndex(error.data.results);\n    }\n\n    return {\n      data: error.data\n    };\n  };\n\n  return KintoneRestAPIError;\n}(Error);\n\nexports.KintoneRestAPIError = KintoneRestAPIError;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA;AAAA;AAAA;EAAyCA;;EAmCvC,6BAAYC,KAAZ,EAAuC;IAAvC;;IACQ,SACJC,mBAAmB,CAACC,+BAApB,CAAoDF,KAApD,CADI;IAAA,IAAEG,IAAI,UAAN;IAAA,IAAQC,gBAAgB,sBAAxB;;YAGNC,kBAAMF,IAAI,CAACG,OAAX,KAAmB;IAEnBC,KAAI,CAACC,IAAL,GAAY,qBAAZ;IACAD,KAAI,CAACE,EAAL,GAAUN,IAAI,CAACM,EAAf;IACAF,KAAI,CAACG,IAAL,GAAYP,IAAI,CAACO,IAAjB;IACAH,KAAI,CAACI,MAAL,GAAcR,IAAI,CAACQ,MAAnB;IACAJ,KAAI,CAACK,MAAL,GAAcZ,KAAK,CAACY,MAApB;IACAL,KAAI,CAACH,gBAAL,GAAwBA,gBAAxB;IACAG,KAAI,CAACM,OAAL,GAAeb,KAAK,CAACa,OAArB;IACAN,KAAI,CAACD,OAAL,GAAe,WAAIN,KAAK,CAACY,MAAV,EAAgB,KAAhB,EAAgBE,MAAhB,CAAsBP,KAAI,CAACG,IAA3B,EAA+B,IAA/B,EAA+BI,MAA/B,CAAoCP,KAAI,CAACD,OAAzC,EAAgD,IAAhD,EAAgDQ,MAAhD,CAAqDP,KAAI,CAACE,EAA1D,EAA4D,GAA5D,CAAf,CAbqC,CAerC;IACA;;IACA,IAAIM,KAAK,CAACC,iBAAV,EAA6B;MAC3BD,KAAK,CAACC,iBAAN,CAAwBT,KAAxB,EAA8BN,mBAA9B;IACD,CAnBoC,CAqBrC;IACA;;;IACAgB,MAAM,CAACC,cAAP,CAAsBX,KAAtB,EAA4BN,mBAAmB,CAACkB,SAAhD;;EACD;;EAnDclB,qDAAf,UACEmB,OADF,EACkD;IAEhD,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,OAAO,CAACE,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;MACvC,IAAIJ,MAAM,CAACM,IAAP,CAAYH,OAAO,CAACC,CAAD,CAAnB,EAAwBC,MAAxB,KAAmC,CAAvC,EAA0C;QACxC,IAAMnB,IAAI,GAAGiB,OAAO,CAACC,CAAD,CAApB;QACA,OAAO;UAAElB,IAAI,MAAN;UAAQC,gBAAgB,EAAEiB;QAA1B,CAAP;MACD;IACF;;IAED,MAAMN,KAAK,CACT,4HADS,CAAX;EAGD,CAbc;;EAeAd,sDAAf,UAA+CD,KAA/C,EAA0E;IAIxE,IAAI,aAAaA,KAAK,CAACG,IAAvB,EAA6B;MAC3B,OAAOF,mBAAmB,CAACuB,8BAApB,CACLxB,KAAK,CAACG,IAAN,CAAWiB,OADN,CAAP;IAGD;;IACD,OAAO;MAAEjB,IAAI,EAAEH,KAAK,CAACG;IAAd,CAAP;EACD,CAVc;;EAqCjB;AAAC,CA5DD,CAAyCY,KAAzC;;AAAaU","names":["__extends","error","KintoneRestAPIError","buildErrorResponseDateWithIndex","data","bulkRequestIndex","_super","message","_this","name","id","code","errors","status","headers","concat","Error","captureStackTrace","Object","setPrototypeOf","prototype","results","i","length","keys","findErrorResponseDataWithIndex","exports"],"sources":["../../src/error/KintoneRestAPIError.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}